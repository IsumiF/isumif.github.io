<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>My Hakyll Blog - Scala 'for' vs Haskell 'do'</title>
        <link rel="stylesheet" href="../../css/default.css" />
        <link rel="stylesheet" href="../../css/syntax.css" />
    </head>
    <body>
        <header>
            <div class="logo">
                <a href="../../">My Hakyll Blog</a>
            </div>
            <nav>
                <a href="../../">Home</a>
                <a href="../../about.html">About</a>
                <a href="../../contact.html">Contact</a>
                <a href="../../archive.html">Archive</a>
            </nav>
        </header>

        <main role="main">
            <h1>Scala 'for' vs Haskell 'do'</h1>
            <article>
  <section class="header">
    Posted on December 21, 2018
    
  </section>
  <section>
    <table>
<thead>
<tr class="header">
<th style="text-align: left;">Haskell</th>
<th style="text-align: left;">Scala</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>x &lt;- monadValue</code></td>
<td style="text-align: left;"><code>x &lt;- monadValue</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>monadValue</code></td>
<td style="text-align: left;"><code>_ &lt;- monadValue</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>let y = someExpr</code></td>
<td style="text-align: left;"><code>val y = someExpr</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">最后一行成为整个do表达式的值</td>
<td style="text-align: left;">必须使用<code>yield r</code>，则<code>pure r</code>成为整个表达式的的值</td>
</tr>
</tbody>
</table>
<p>例子： Scala</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode scala"><code class="sourceCode scala"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">for</span> {</a>
<a class="sourceLine" id="cb1-2" title="2">  x &lt;- monadValue</a>
<a class="sourceLine" id="cb1-3" title="3">  _ &lt;- operation</a>
<a class="sourceLine" id="cb1-4" title="4">  <span class="kw">val</span> y = someExpr</a>
<a class="sourceLine" id="cb1-5" title="5">  r &lt;- lastMonadValue</a>
<a class="sourceLine" id="cb1-6" title="6">} <span class="kw">yield</span> r</a></code></pre></div>
<p>Haskell</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">do</span></a>
<a class="sourceLine" id="cb2-2" title="2">  x <span class="ot">&lt;-</span> monadValue</a>
<a class="sourceLine" id="cb2-3" title="3">  operation</a>
<a class="sourceLine" id="cb2-4" title="4">  <span class="kw">let</span> y <span class="fu">=</span> someExpr</a>
<a class="sourceLine" id="cb2-5" title="5">  lastMonadValue</a></code></pre></div>
  </section>
</article>
        </main>

        <footer>
            Site proudly generated by
            <a href="http://jaspervdj.be/hakyll">Hakyll</a>
        </footer>
    </body>
</html>
